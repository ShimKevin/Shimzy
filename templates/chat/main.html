{% extends "base.html" %}

{% block content %}
<div class="chat-container">
    <header>
        <h1>Shimzy Chat</h1>
        <div class="user-controls">
            <span>Welcome, {{ username }}</span>
            <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
        </div>
    </header>

    <div class="chat-area">
        <div id="messages"></div>
    </div>

    <div class="call-controls">
        <button id="voice-call" onclick="startCall(false, 'target-user')">
            <i class="fas fa-phone"></i>
        </button>
        <button id="video-call" onclick="startCall(true, 'target-user')">
            <i class="fas fa-video"></i>
        </button>
    </div>

    <form id="message-form">
        <input type="text" id="message-input" placeholder="Type your message...">
        <button type="submit">Send</button>
    </form>
</div>

<div id="video-container">
    <video id="remoteVideo" autoplay></video>
    <video id="localVideo" autoplay muted></video>
    <button id="end-call" onclick="endCall()">End Call</button>
</div>
{% endblock %}